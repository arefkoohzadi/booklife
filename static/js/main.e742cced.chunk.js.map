{"version":3,"sources":["assets/images/cover.gif","store/reducers/bookReducer.js","store/reducers/authorReducer.js","store/reducers/authReducer.js","store/index.js","store/actions/author.js","context/modalProvider.js","components/Logo.js","components/NavigationItem.js","components/NavigationItems.js","components/DrawerToggle.js","components/LoginRegisterLink.js","components/Toolbar.js","components/common/Backdrop.js","components/SideDrawer.js","components/Footer.js","components/common/ProgressBar.js","components/layout/Layout.js","components/form/AppForm.js","components/form/AppFormField.js","components/form/SubmitButton.js","utility/errorMessage.js","components/form/LoginForm.js","components/form/RegisterForm.js","utility/truncate.js","components/common/Card.js","components/common/AppCarousel.js","hooks/useReading.js","hooks/useBestAuthor.js","components/author/Followers.js","components/common/Button.js","hooks/useFollow.js","components/Follow.js","components/author/BestAuthor.js","hooks/useBestBook.js","hooks/useAuthorIdWithBook.js","components/book/BestBook.js","components/common/Pagination.js","components/book/AllBook.js","utility/paginate.js","components/Home.js","components/common/DescriptionTruncate.js","components/book/Book.js","components/author/ListAutorBook.js","components/author/Author.js","components/form/CreateBook.js","components/form/CreateAuthor.js","components/Logout.js","components/not-found/NotFound.js","App.js","index.js","store/actions/auth.js","api/axios-books.js","components/common/Details.js","store/actions/book.js","components/Alert.js","hooks/useStatus.js","components/common/DropDown.js","components/common/StarRating.js","utility/range.js","hooks/useRating.js"],"names":["module","exports","initialState","books","authors","token","userId","error","loading","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReduser","combineReducers","book","state","action","type","FETCH_BOOKS","booksId","Object","keys","cloneBooks","map","bookId","id","ADD_STATUS","find","updateStatus","status","item","updateBook","bookIndex","findIndex","cloneBooksStatus","splice","DELETE_STATUS","bookForDelete","statusForDelete","updateBookForDelete","bookIndexDelete","cloneBooksStatusDelete","UPDATE_RATING","bookForRating","updateRatings","ratings","rating","updateBookForRating","bookIndexRating","cloneBooksRating","author","authorsId","cloneAuthors","authorId","updateFollowers","followers","updateAuthor","authorIndex","cloneAuthorsFollowers","authorForDelete","followerForDelete","updateAuthorForDelete","authorIndexDelete","cloneAuthorsFollowersDelete","auth","AUTH_START","AUTH_SUCCESS","idToken","AUTH_FAIL","AUTH_ERROR_TO_NULL","AUTH_LOGOUT","store","createStore","applyMiddleware","thunk","ModalContext","React","createContext","ModalSetStateContext","ModalProvider","children","useState","openSideDrawer","setOpenSideDrawer","Provider","value","Logo","props","backdrop","useContext","onClick","undefined","to","className","xmlns","viewBox","d","NavigationItem","exact","activeClassName","link","NavigationItems","isAuth","useSelector","DrawerToggle","toggleModal","prevState","LoginRegisterLink","Toolbar","Backdrop","show","clicked","SideDrawer","classes","Footer","href","target","rel","transform","version","preserveAspectRatio","height","fill","x","y","space","ProgressBar","progressBar","Layout","Helmet","AppForm","initialValues","onSubmit","validationSchema","AppFormField","name","rest","useFormikContext","handleChange","setFieldTouched","touched","errors","Fragment","onChange","onBlur","SubmitButton","title","handleSubmit","errorMessage","message","Yup","shape","email","required","label","password","min","Login","dispatch","useDispatch","spinner","fillRule","clipRule","cx","cy","r","stroke","strokeWidth","authRedirect","useEffect","scrollTo","values","placeholder","Alert","subject","description","okTitle","close","authErorToNull","Register","strokeLinecap","strokeLinejoin","truncate","txt","number","length","slice","Card","image","authorPreson","ath","src","alt","StarRating","DropDown","AppCarousel","rtl","keepDirectionWhenDragging","infinite","autoPlay","animationSpeed","Cover","useReading","filter","userStatusId","uid","useBestAuthor","bestAuthorId","maxNumber","forEach","lngFollower","Followers","numberOfFollowers","Button","useFollow","some","Follow","authRequire","setAuthRequire","isFollow","url","httpRequest","delete","then","res","deleteFollower","catch","err","console","log","data","patch","addFollower","cancelTitle","okLink","BestAuthor","history","useHistory","au","push","imageUrl","useBestBook","bestBookId","lngStatus","useAuthorIdWithBook","BestBook","numberOfReader","Pagination","itemCount","pageSize","onPageChange","currentPage","pageCount","Math","ceil","pages","range","page","key","AllBook","setCurrentPage","paginateBooks","items","pageNumber","startIndex","paginate","Home","booksReading","maxNumberOfReader","Details","size","DescriptionTruncate","text","setText","isMore","setIsMore","Book","match","params","useRating","currentRating","publisher","ListAutorBook","Author","authorBooks","CreateBook","axios","post","CreateAuthor","Logout","authLogout","NotFound","Cv","lazy","MyBooks","App","authCheckState","fetchBooks","a","get","fallback","path","component","ReactDOM","render","document","getElementById","authSuccess","localStorage","removeItem","checkAuthTimeout","exprationTime","setTimeout","isSignup","returnSecureToken","expirationDate","Date","getTime","expiresIn","setItem","localId","response","getState","getItem","instance","create","baseURL","updateRating","num","deleteStatus","addStatus","useStatus","userIdStatus","isOpen","setIsOpen","selectHandler","ratingHover","setRatingHover","mouseLeaveHandler","handlerClick","onMouseEnter","onMouseLeave","startAt","Array","i","bookObject","userIds","userIdRating"],"mappings":"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","file":"static/js/main.e742cced.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cover.5f0682a6.gif\";","import {\r\n  FETCH_BOOKS,\r\n  ADD_STATUS,\r\n  DELETE_STATUS,\r\n  UPDATE_RATING,\r\n} from \"../actions/book\";\r\n\r\nconst initialState = {\r\n  books: [],\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_BOOKS:\r\n      const booksId = Object.keys(action.books);\r\n      const cloneBooks = booksId.map((bookId) => ({\r\n        id: bookId,\r\n        ...action.books[bookId],\r\n      }));\r\n      return { ...state, books: [...cloneBooks] };\r\n    case ADD_STATUS:\r\n      const book = state.books.find((book) => book.id === action.bookId);\r\n      const updateStatus = {\r\n        ...book.status,\r\n        [action.userId]: action.item,\r\n      };\r\n      const updateBook = { ...book, status: updateStatus };\r\n      const bookIndex = state.books.findIndex(\r\n        (book) => book.id === action.bookId\r\n      );\r\n      const cloneBooksStatus = [...state.books];\r\n\r\n      cloneBooksStatus.splice(bookIndex, 1, updateBook);\r\n\r\n      return { ...state, books: [...cloneBooksStatus] };\r\n    case DELETE_STATUS:\r\n      const bookForDelete = state.books.find(\r\n        (book) => book.id === action.bookId\r\n      );\r\n      const statusForDelete = { ...bookForDelete.status };\r\n      delete statusForDelete[action.userId];\r\n      const updateBookForDelete = {\r\n        ...bookForDelete,\r\n        status: statusForDelete,\r\n      };\r\n\r\n      const bookIndexDelete = state.books.findIndex(\r\n        (book) => book.id === action.bookId\r\n      );\r\n      const cloneBooksStatusDelete = [...state.books];\r\n\r\n      cloneBooksStatusDelete.splice(bookIndexDelete, 1, updateBookForDelete);\r\n      return { ...state, books: [...cloneBooksStatusDelete] };\r\n    case UPDATE_RATING:\r\n      const bookForRating = state.books.find(\r\n        (book) => book.id === action.bookId\r\n      );\r\n      const updateRatings = {\r\n        ...bookForRating.ratings,\r\n        [action.userId]: action.rating,\r\n      };\r\n      const updateBookForRating = { ...bookForRating, ratings: updateRatings };\r\n      const bookIndexRating = state.books.findIndex(\r\n        (book) => book.id === action.bookId\r\n      );\r\n      const cloneBooksRating = [...state.books];\r\n\r\n      cloneBooksRating.splice(bookIndexRating, 1, updateBookForRating);\r\n\r\n      return { ...state, books: [...cloneBooksRating] };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","// import AUTHORS from \"../../dummy-data/data/author\";\r\nimport {\r\n  FETCH_AUTHORS,\r\n  ADD_FOLLOWER,\r\n  DELETE_FOLLOWER,\r\n} from \"../actions/author\";\r\nconst initialState = {\r\n  authors: [],\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_AUTHORS:\r\n      const authorsId = Object.keys(action.authors);\r\n      const cloneAuthors = authorsId.map((authorId) => ({\r\n        id: authorId,\r\n        ...action.authors[authorId],\r\n      }));\r\n      return { ...state, authors: [...cloneAuthors] };\r\n    case ADD_FOLLOWER:\r\n      const author = state.authors.find(\r\n        (author) => author.id === action.authorId\r\n      );\r\n      const updateFollowers = {\r\n        ...author.followers,\r\n        [action.userId]: action.userId,\r\n      };\r\n      const updateAuthor = { ...author, followers: updateFollowers };\r\n      const authorIndex = state.authors.findIndex(\r\n        (author) => author.id === action.authorId\r\n      );\r\n      const cloneAuthorsFollowers = [...state.authors];\r\n\r\n      cloneAuthorsFollowers.splice(authorIndex, 1, updateAuthor);\r\n\r\n      return { ...state, authors: [...cloneAuthorsFollowers] };\r\n    case DELETE_FOLLOWER:\r\n      const authorForDelete = state.authors.find(\r\n        (author) => author.id === action.authorId\r\n      );\r\n      const followerForDelete = { ...authorForDelete.followers };\r\n      delete followerForDelete[action.userId];\r\n      const updateAuthorForDelete = {\r\n        ...authorForDelete,\r\n        followers: followerForDelete,\r\n      };\r\n\r\n      const authorIndexDelete = state.authors.findIndex(\r\n        (author) => author.id === action.authorId\r\n      );\r\n      const cloneAuthorsFollowersDelete = [...state.authors];\r\n\r\n      cloneAuthorsFollowersDelete.splice(\r\n        authorIndexDelete,\r\n        1,\r\n        updateAuthorForDelete\r\n      );\r\n      return { ...state, authors: [...cloneAuthorsFollowersDelete] };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  AUTH_SUCCESS,\r\n  AUTH_START,\r\n  AUTH_FAIL,\r\n  AUTH_LOGOUT,\r\n  AUTH_ERROR_TO_NULL,\r\n} from \"../actions/auth\";\r\n\r\nconst initialState = {\r\n  token: null,\r\n  userId: null,\r\n  error: null,\r\n  loading: null,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case AUTH_START:\r\n      return { ...state, error: null, loading: true };\r\n    case AUTH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        token: action.idToken,\r\n        userId: action.userId,\r\n        error: null,\r\n        loading: false,\r\n      };\r\n    case AUTH_FAIL:\r\n      return { ...state, error: action.error, loading: false };\r\n    case AUTH_ERROR_TO_NULL:\r\n      return { ...state, error: null };\r\n    case AUTH_LOGOUT:\r\n      return { ...state, token: null, userId: null };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport bookReducer from \"./reducers/bookReducer\";\r\nimport authorReducer from \"./reducers/authorReducer\";\r\nimport authReducer from \"./reducers/authReducer\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst rootReduser = combineReducers({\r\n  book: bookReducer,\r\n  author: authorReducer,\r\n  auth: authReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  rootReduser,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import axios from \"../../api/axios-books\";\r\nexport const FETCH_AUTHORS = \"FETCH_AUTHORS\";\r\nexport const ADD_FOLLOWER = \"ADD_FOLLOWER\";\r\nexport const DELETE_FOLLOWER = \"DELETE_FOLLOWER\";\r\n\r\nexport const deleteFollower = (authorId, userId) => {\r\n  return {\r\n    type: DELETE_FOLLOWER,\r\n    userId,\r\n    authorId,\r\n  };\r\n};\r\n\r\nexport const addFollower = (authorId, userId) => {\r\n  return {\r\n    type: ADD_FOLLOWER,\r\n    userId,\r\n    authorId,\r\n  };\r\n};\r\n\r\nexport const fetchAuthors = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const authors = await axios.get(\"/authors.json\");\r\n      dispatch({\r\n        type: FETCH_AUTHORS,\r\n        authors: authors.data,\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nexport const ModalContext = React.createContext();\r\nexport const ModalSetStateContext = React.createContext();\r\n\r\nconst ModalProvider = ({ children }) => {\r\n  const [openSideDrawer, setOpenSideDrawer] = useState(false);\r\n\r\n  return (\r\n    <ModalContext.Provider value={openSideDrawer}>\r\n      <ModalSetStateContext.Provider value={setOpenSideDrawer}>\r\n        {children}\r\n      </ModalSetStateContext.Provider>\r\n    </ModalContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ModalProvider;\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ModalSetStateContext } from \"../context/modalProvider\";\r\n\r\nconst Logo = (props) => {\r\n  const backdrop = useContext(ModalSetStateContext);\r\n  return (\r\n    <Link\r\n      onClick={backdrop ? () => backdrop(false) : undefined}\r\n      to=\"/\"\r\n      className=\"flex items-center ml-0 sm:ml-3 sm:h-full group cursor-pointer my-auto\"\r\n    >\r\n      <svg\r\n        className=\"h-10 w-10 ml-1 fill-current text-teal-800 transition ease-in duration-300 group-hover:text-teal-600\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 20 20\"\r\n      >\r\n        <path d=\"M6 4H5a1 1 0 1 1 0-2h11V1a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1h-7v8l-2-2-2 2V4z\" />\r\n      </svg>\r\n      <p className=\"font-IRANSansMedium select-none text-lg tracking-tighter text-teal-800 transition ease-in duration-300 group-hover:text-teal-600\">\r\n        کتاب خوان\r\n      </p>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import React, { useContext } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { ModalSetStateContext } from \"../context/modalProvider\";\r\n\r\nconst NavigationItem = (props) => {\r\n  const backdrop = useContext(ModalSetStateContext);\r\n  return (\r\n    <li className=\"my-3 sm:m-0\">\r\n      <span className=\"text-teal-800 hover:text-teal-600\">\r\n        <NavLink\r\n          onClick={backdrop ? () => backdrop(false) : undefined}\r\n          exact\r\n          className=\"py-2 px-1 sm:px-5 border-b-4 border-transparent transition ease-in duration-300 sm:hover:border-teal-600 font-IRANSansMedium tracking-tighter select-none\"\r\n          activeClassName=\"sm:border-teal-600 text-red-600 sm:text-teal-800\"\r\n          to={props.link}\r\n        >\r\n          {props.children}\r\n        </NavLink>\r\n      </span>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default NavigationItem;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport NavigationItem from \"./NavigationItem\";\r\n\r\nconst NavigationItems = (props) => {\r\n  const isAuth = !!useSelector((state) => state.auth.token);\r\n  return (\r\n    <ul className=\"sm:flex h-full items-center\">\r\n      <NavigationItem link=\"/\">خانه</NavigationItem>\r\n      {isAuth && <NavigationItem link=\"/my-books\">کتاب‌های من</NavigationItem>}\r\n      <NavigationItem link=\"/cv\">درباره‌ی ما</NavigationItem>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default NavigationItems;\r\n","import React, { useContext } from \"react\";\r\nimport { ModalSetStateContext } from \"../context/modalProvider\";\r\n\r\nconst DrawerToggle = (props) => {\r\n  const toggleModal = useContext(ModalSetStateContext);\r\n  return (\r\n    <svg\r\n      onClick={() => toggleModal((prevState) => !prevState)}\r\n      className=\"h-6 w-6 fill-current text-teal-800 sm:hidden cursor-pointer\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 20 20\"\r\n    >\r\n      <path d=\"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default DrawerToggle;\r\n","import React, { useContext } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { ModalSetStateContext } from \"../context/modalProvider\";\r\n\r\nconst LoginRegisterLink = (props) => {\r\n  const backdrop = useContext(ModalSetStateContext);\r\n  const isAuth = !!useSelector((state) => state.auth.token);\r\n\r\n  return (\r\n    <>\r\n      <span>\r\n        {!isAuth ? (\r\n          <>\r\n            <span className=\"text-teal-800 hover:text-teal-600\">\r\n              <NavLink\r\n                onClick={backdrop ? () => backdrop(false) : undefined}\r\n                activeClassName=\"text-red-600\"\r\n                to=\"/login\"\r\n              >\r\n                ورود\r\n              </NavLink>\r\n            </span>{\" \"}\r\n            |{\" \"}\r\n            <span className=\"text-teal-800 hover:text-teal-600\">\r\n              <NavLink\r\n                onClick={backdrop ? () => backdrop(false) : undefined}\r\n                activeClassName=\"text-red-600\"\r\n                className=\"tracking-tighter\"\r\n                to=\"/register\"\r\n              >\r\n                ثبت نام\r\n              </NavLink>\r\n            </span>\r\n          </>\r\n        ) : (\r\n          <NavLink\r\n            onClick={backdrop ? () => backdrop(false) : undefined}\r\n            className=\"font-IRANSansMedium text-teal-800 hover:text-teal-600 tracking-tighter\"\r\n            to=\"/logout\"\r\n          >\r\n            خروج\r\n          </NavLink>\r\n        )}\r\n      </span>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginRegisterLink;\r\n","import React from \"react\";\r\nimport Logo from \"./Logo\";\r\nimport NavigationItems from \"./NavigationItems\";\r\nimport DrawerToggle from \"./DrawerToggle\";\r\nimport LoginRegisterLink from \"./LoginRegisterLink\";\r\nconst Toolbar = (props) => {\r\n  return (\r\n    <header className=\"z-20 justify-between w-full h-12 px-2 sm:px-4 lg:px-10 flex flex-row-reverse sm:flex-row items-center fixed top-0 right-0 bg-primary border-b border-gray-300 border-opacity-25 shadow-sm\">\r\n      <Logo />\r\n      <nav className=\"h-full hidden sm:flex\">\r\n        <NavigationItems />\r\n      </nav>\r\n      <DrawerToggle />\r\n      <span className=\"hidden sm:block\">\r\n        <LoginRegisterLink />\r\n      </span>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Toolbar;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  ModalContext,\r\n  ModalSetStateContext,\r\n} from \"../../context/modalProvider\";\r\n\r\nconst Backdrop = (props) => {\r\n  const show = useContext(ModalContext);\r\n  const clicked = useContext(ModalSetStateContext);\r\n  return show ? (\r\n    <div\r\n      onClick={() => clicked(false)}\r\n      className=\"h-full w-full z-30 bg-gray-500 bg-opacity-50 fixed top-0 right-0\"\r\n    ></div>\r\n  ) : null;\r\n};\r\n\r\nexport default Backdrop;\r\n","import React, { useContext } from \"react\";\r\nimport NavigationItems from \"./NavigationItems\";\r\nimport Logo from \"./Logo\";\r\nimport Backrdop from \"./common/Backdrop\";\r\nimport LoginRegisterLink from \"./LoginRegisterLink\";\r\nimport { ModalContext } from \"../context/modalProvider\";\r\n\r\nconst SideDrawer = (props) => {\r\n  const open = useContext(ModalContext);\r\n  let classes =\r\n    \"fixed p-2 top-0 right-0 w-2/3 h-full z-40 rounded-l-lg items-start bg-primary box-border\";\r\n  if (!open) {\r\n    classes =\r\n      classes + \" transition transform translate-x-full ease-out duration-200\";\r\n  } else {\r\n    classes =\r\n      classes + \" transition transform translate-x-0 ease-out duration-200\";\r\n  }\r\n  return (\r\n    <div className=\"sm:hidden\">\r\n      <Backrdop />\r\n      <div className={classes}>\r\n        <Logo />\r\n        <nav>\r\n          <NavigationItems />\r\n        </nav>\r\n        <div className=\"mt-4\">\r\n          <LoginRegisterLink />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SideDrawer;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Footer = (props) => {\r\n  return (\r\n    <div className=\"w-full pt-2 pb-5 px-10 h-20 bg-primary flex justify-between focus:outline-none\">\r\n      <div>\r\n        <span className=\"text-teal-800 hover:text-teal-600\">\r\n          <NavLink\r\n            activeClassName=\"text-red-600 hover:text-red-500\"\r\n            className=\"font-IRANSansMedium text-lg mb-3\"\r\n            to=\"/cv\"\r\n          >\r\n            درباره ما\r\n          </NavLink>\r\n        </span>\r\n      </div>\r\n\r\n      <div>\r\n        <h1 className=\"font-IRANSansMedium text-lg mb-3 text-teal-800\">\r\n          تماس با ما\r\n        </h1>\r\n        <div className=\"flex\">\r\n          <a\r\n            href=\"https://www.instagram.com/arefkoohzadi/\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            <svg\r\n              id=\"Instagram\"\r\n              className=\"w-5 h-5 cursor-pointer fill-current text-gray-700 hover:text-gray-900 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 18 18\"\r\n            >\r\n              <title>instagram</title>\r\n              <path\r\n                d=\"M18.94586,6.28931a6.60561,6.60561,0,0,0-.41833-2.18463,4.41189,4.41189,0,0,0-1.03809-1.59412,4.41189,4.41189,0,0,0-1.59412-1.03809,6.60561,6.60561,0,0,0-2.18463-.41833C12.75073,1.01038,12.44427,1,10,1s-2.75073.01038-3.71069,0.05414a6.60561,6.60561,0,0,0-2.18463.41833A4.41189,4.41189,0,0,0,2.51056,2.51056,4.41189,4.41189,0,0,0,1.47247,4.10468a6.60561,6.60561,0,0,0-.41833,2.18463C1.01038,7.24927,1,7.55573,1,10s0.01038,2.75073.05414,3.71069a6.60561,6.60561,0,0,0,.41833,2.18463,4.41189,4.41189,0,0,0,1.03809,1.59412,4.41109,4.41109,0,0,0,1.59412,1.03809,6.60561,6.60561,0,0,0,2.18463.41833C7.24927,18.98969,7.55573,19,10,19s2.75073-.01031,3.71069-0.05414a6.60561,6.60561,0,0,0,2.18463-.41833,4.60208,4.60208,0,0,0,2.6322-2.6322,6.60561,6.60561,0,0,0,.41833-2.18463C18.98962,12.75073,19,12.44427,19,10S18.98962,7.24927,18.94586,6.28931Zm-1.61993,7.34747a4.97824,4.97824,0,0,1-.30994,1.67114A2.98017,2.98017,0,0,1,15.30792,17.016a4.9786,4.9786,0,0,1-1.67114.30994C12.68787,17.3692,12.40326,17.37836,10,17.37836s-2.68787-.00916-3.63678-0.05243A4.9786,4.9786,0,0,1,4.69208,17.016a2.78769,2.78769,0,0,1-1.03485-.67322A2.78769,2.78769,0,0,1,2.984,15.30792a4.97824,4.97824,0,0,1-.30994-1.67114C2.6308,12.68774,2.62164,12.40314,2.62164,10s0.00916-2.68774.05243-3.63678A4.9786,4.9786,0,0,1,2.984,4.69208a2.78769,2.78769,0,0,1,.67322-1.03485A2.78769,2.78769,0,0,1,4.69208,2.984a4.9786,4.9786,0,0,1,1.67114-.30994C7.31226,2.6308,7.59686,2.62164,10,2.62164s2.68774,0.00916,3.63678.05243a4.9786,4.9786,0,0,1,1.67114.30994,2.78769,2.78769,0,0,1,1.03485.67322A2.78769,2.78769,0,0,1,17.016,4.69208a4.9786,4.9786,0,0,1,.30994,1.67114c0.04327,0.949.05243,1.2337,0.05243,3.63678S17.3692,12.68774,17.32593,13.63678ZM10,5.37836A4.62164,4.62164,0,1,0,14.62164,10,4.62169,4.62169,0,0,0,10,5.37836ZM10,13a3,3,0,1,1,3-3A3,3,0,0,1,10,13Zm5.88422-7.8042a1.08,1.08,0,1,1-1.08-1.08A1.08,1.08,0,0,1,15.88422,5.1958Z\"\r\n                transform=\"translate(-1 -1)\"\r\n              />\r\n            </svg>\r\n          </a>\r\n          <a\r\n            href=\"https://github.com/arefkoohzadi/\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            <svg\r\n              className=\"w-5 h-5 cursor-pointer mx-3 fill-current text-gray-700 hover:text-gray-900 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110\"\r\n              viewBox=\"0 0 256 250\"\r\n              version=\"1.1\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              preserveAspectRatio=\"xMidYMid\"\r\n              height=\"32\"\r\n            >\r\n              <title>Github</title>\r\n              <g>\r\n                <path\r\n                  d=\"M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z\"\r\n                  fill=\"currentColor\"\r\n                ></path>\r\n              </g>\r\n            </svg>\r\n          </a>\r\n          <a\r\n            href=\"mailto:aref.koohzadi@gmail.com\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            <svg\r\n              className=\"w-5 h-5 cursor-pointer fill-current text-gray-700 hover:text-gray-900 transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110\"\r\n              version=\"1.1\"\r\n              id=\"Mail\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              x=\"0px\"\r\n              y=\"0px\"\r\n              viewBox=\"0 0 20 20\"\r\n              space=\"preserve\"\r\n            >\r\n              <title>aref.koohzadi@gmail.com</title>\r\n              <path\r\n                d=\"M1.574,5.286c0.488,0.262,7.248,3.894,7.5,4.029C9.326,9.45,9.652,9.514,9.98,9.514c0.328,0,0.654-0.064,0.906-0.199\r\n                    s7.012-3.767,7.5-4.029C18.875,5.023,19.337,4,18.44,4H1.521C0.624,4,1.086,5.023,1.574,5.286z M18.613,7.489\r\n                    c-0.555,0.289-7.387,3.849-7.727,4.027s-0.578,0.199-0.906,0.199s-0.566-0.021-0.906-0.199S1.941,7.777,1.386,7.488\r\n                    C0.996,7.284,1,7.523,1,7.707S1,15,1,15c0,0.42,0.566,1,1,1h16c0.434,0,1-0.58,1-1c0,0,0-7.108,0-7.292S19.004,7.285,18.613,7.489z\"\r\n              />\r\n            </svg>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nconst ProgressBar = ({ loading }) => {\r\n  let progressBar = null;\r\n  if (!!loading) {\r\n    progressBar = (\r\n      <div className=\"w-full -mt-3\">\r\n        <div className=\"w-full overflow-hidden\">\r\n          <div className=\"w-1/2 inline-block relative animate-progress h-1 bg-gradient-to-r from-transparent via-teal-500 to-transparent\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return progressBar;\r\n};\r\n\r\nexport default ProgressBar;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Toolbar from \"../Toolbar\";\r\nimport SideDrawer from \"../SideDrawer\";\r\nimport Footer from \"../Footer\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport ProgressBar from \"../common/ProgressBar\";\r\nimport ModalProvider from \"../../context/modalProvider\";\r\n\r\nconst Layout = (props) => {\r\n  const loading = useSelector((state) => state.auth.loading);\r\n\r\n  return (\r\n    <>\r\n      <ModalProvider>\r\n        <Toolbar />\r\n        <SideDrawer />\r\n      </ModalProvider>\r\n      <main className=\"py-12 min-h-screen px-2 sm:px-4 lg:px-10 bg-secondary w-full\">\r\n        <Helmet>\r\n          <title>کتاب خوان</title>\r\n        </Helmet>\r\n        <ProgressBar loading={loading} />\r\n        {props.children}\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import React from \"react\";\r\nimport { Formik } from \"formik\";\r\nconst AppForm = ({ initialValues, onSubmit, validationSchema, children }) => {\r\n  return (\r\n    <Formik\r\n      initialValues={initialValues}\r\n      onSubmit={onSubmit}\r\n      validationSchema={validationSchema}\r\n    >\r\n      {() => <form>{children}</form>}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default AppForm;\r\n","import React from \"react\";\r\nimport { useFormikContext } from \"formik\";\r\n\r\nconst AppFormField = ({ name, ...rest }) => {\r\n  const { handleChange, setFieldTouched, touched, errors } = useFormikContext();\r\n  return (\r\n    <React.Fragment>\r\n      <input\r\n        className=\"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded focus:outline-none focus:shadow-outline-grey focus:border-blue-300 sm:text-sm sm:leading-5\"\r\n        onChange={handleChange(name)}\r\n        onBlur={() => setFieldTouched(name)}\r\n        {...rest}\r\n      />\r\n      {touched[name] && errors[name] && (\r\n        <div className=\"-mb-5 flex items-center justify-between\">\r\n          <div className=\"text-sm leading-5\">\r\n            <p className=\"font-medium text-red-600 select-none\">\r\n              {errors[name]}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AppFormField;\r\n","import React from \"react\";\r\nimport { useFormikContext } from \"formik\";\r\n\r\nconst SubmitButton = ({ title, children }) => {\r\n  const { handleSubmit } = useFormikContext();\r\n  return (\r\n    <div className=\"mt-4\">\r\n      <button\r\n        onClick={handleSubmit}\r\n        type=\"submit\"\r\n        className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-blue active:bg-indigo-700 transition duration-150 ease-in-out\"\r\n      >\r\n        <span className=\"absolute left-0 inset-y-0 flex items-center pl-3\">\r\n          {children}\r\n        </span>\r\n        {title}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubmitButton;\r\n","export const errorMessage = (message) => {\r\n  switch (message) {\r\n    case \"TOO_MANY_ATTEMPTS_TRY_LATER : Too many unsuccessful login attempts. Please try again later.\":\r\n      return \"بعدا تلاش کنید!\";\r\n\r\n    case \"EMAIL_NOT_FOUND\":\r\n      return \"ایمیل وارد شده اشتباه است!\";\r\n\r\n    case \"INVALID_PASSWORD\":\r\n      return \"پسوورد صحیح نیست!\";\r\n\r\n    case \"EMAIL_EXISTS\":\r\n      return \"ایمیل وارد شده قبلا ثبت گردیده است!\";\r\n\r\n    default:\r\n      return \"اشتباهی رخ داده است! مجددا تلاش کنید.\";\r\n  }\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { AppForm, AppFormField, SubmitButton } from \".\";\r\nimport * as Yup from \"yup\";\r\nimport { auth, authErorToNull } from \"../../store/actions/auth\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport Alert from \"../Alert\";\r\nimport { errorMessage } from \"../../utility/errorMessage\";\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  email: Yup.string()\r\n    .email(\"ایمیل صحیح نمی باشد.\")\r\n    .required(\"وارد کردن ایمیل الزامی ست.\")\r\n    .label(\"ایمیل\"),\r\n  password: Yup.string()\r\n    .min(6, \"رمز عبور باید حداقل 6 کاراکتر باشد.\")\r\n    .required(\"وارد کردن رمز عبور الزامی ست.\")\r\n    .label(\"رمز عبور\"),\r\n});\r\n\r\nconst Login = (props) => {\r\n  const loading = useSelector((state) => state.auth.loading);\r\n  const isAuth = !!useSelector((state) => state.auth.token);\r\n  const error = useSelector((state) => state.auth.error);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let spinner = (\r\n    <svg\r\n      className=\"h-5 w-5 text-indigo-500 group-hover:text-indigo-400 transition ease-in-out duration-150\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        d=\"M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z\"\r\n        clipRule=\"evenodd\"\r\n      />\r\n    </svg>\r\n  );\r\n\r\n  if (loading) {\r\n    spinner = (\r\n      <svg\r\n        className=\"animate-spin h-5 w-5 text-white\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n      >\r\n        <circle\r\n          className=\"opacity-25\"\r\n          cx=\"12\"\r\n          cy=\"12\"\r\n          r=\"10\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"4\"\r\n        ></circle>\r\n        <path\r\n          className=\"opacity-75\"\r\n          fill=\"currentColor\"\r\n          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n        ></path>\r\n      </svg>\r\n    );\r\n  }\r\n\r\n  let authRedirect = null;\r\n  if (isAuth) {\r\n    authRedirect = <Redirect to=\"/\" />;\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  const closeHandler = () => {\r\n    dispatch(authErorToNull());\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <Helmet>\r\n        <title>کتاب خوان | ورود به سایت</title>\r\n      </Helmet>\r\n      {authRedirect}\r\n      <div className=\"max-w-md w-full\">\r\n        <div>\r\n          <svg\r\n            className=\"fill-current text-teal-700 text-opacity-75 h-16 w-16 mx-auto\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 20 20\"\r\n          >\r\n            <path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM7 6v2a3 3 0 1 0 6 0V6a3 3 0 1 0-6 0zm-3.65 8.44a8 8 0 0 0 13.3 0 15.94 15.94 0 0 0-13.3 0z\" />\r\n          </svg>\r\n          <h2 className=\"mt-6 text-center text-3xl leading-9 font-extrabold text-gray-900\">\r\n            ورود به حساب کاربری\r\n          </h2>\r\n        </div>\r\n        <div className=\"mt-10\">\r\n          <AppForm\r\n            initialValues={{ email: \"\", password: \"\" }}\r\n            onSubmit={(values) =>\r\n              dispatch(auth(values.email, values.password, false))\r\n            }\r\n            validationSchema={validationSchema}\r\n          >\r\n            <div>\r\n              <div>\r\n                <AppFormField name=\"email\" type=\"email\" placeholder=\"ایمیل\" />\r\n              </div>\r\n              <div className=\"mt-8\">\r\n                <AppFormField\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  placeholder=\"رمز عبور\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-8 flex items-center justify-between\">\r\n              <div className=\"text-sm leading-5\">\r\n                <Link\r\n                  to=\"/register\"\r\n                  className=\"font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none focus:underline transition ease-in-out duration-150\"\r\n                >\r\n                  ثبت نام نکرده اید؟\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            <SubmitButton title=\"ورود\">{spinner}</SubmitButton>\r\n          </AppForm>\r\n        </div>\r\n      </div>\r\n      {!!error && (\r\n        <Alert\r\n          subject=\"خطای ورود\"\r\n          description={errorMessage(error.message)}\r\n          okTitle=\"باشد!\"\r\n          close={closeHandler}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useEffect } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { AppForm, AppFormField, SubmitButton } from \".\";\r\nimport * as Yup from \"yup\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { auth, authErorToNull } from \"../../store/actions/auth\";\r\nimport Alert from \"../Alert\";\r\nimport { errorMessage } from \"../../utility/errorMessage\";\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  email: Yup.string()\r\n    .email(\"ایمیل صحیح نمی باشد.\")\r\n    .required(\"وارد کردن ایمیل الزامی ست.\")\r\n    .label(\"ایمیل\"),\r\n  password: Yup.string()\r\n    .min(6, \"رمز عبور باید حداقل 6 کاراکتر باشد.\")\r\n    .required(\"وارد کردن رمز عبور الزامی ست.\")\r\n    .label(\"رمز عبور\"),\r\n});\r\n\r\nconst Register = (props) => {\r\n  const loading = useSelector((state) => state.auth.loading);\r\n  const isAuth = !!useSelector((state) => state.auth.token);\r\n  const error = useSelector((state) => state.auth.error);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let spinner = (\r\n    <svg\r\n      className=\"h-5 w-5 text-indigo-500 group-hover:text-indigo-400 transition ease-in-out duration-150\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"none\"\r\n      viewBox=\"0 0 24 24\"\r\n      stroke=\"currentColor\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth=\"2\"\r\n        d=\"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.132A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.39-2.823 1.07-4\"\r\n      />\r\n    </svg>\r\n  );\r\n\r\n  if (loading) {\r\n    spinner = (\r\n      <svg\r\n        className=\"animate-spin h-5 w-5 text-white\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n      >\r\n        <circle\r\n          className=\"opacity-25\"\r\n          cx=\"12\"\r\n          cy=\"12\"\r\n          r=\"10\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"4\"\r\n        ></circle>\r\n        <path\r\n          className=\"opacity-75\"\r\n          fill=\"currentColor\"\r\n          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n        ></path>\r\n      </svg>\r\n    );\r\n  }\r\n\r\n  let authRedirect = null;\r\n  if (isAuth) {\r\n    authRedirect = <Redirect to=\"/\" />;\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  const closeHandler = () => {\r\n    dispatch(authErorToNull());\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <Helmet>\r\n        <title>کتاب خوان | ثبت نام در سایت</title>\r\n      </Helmet>\r\n      {authRedirect}\r\n      <div className=\"max-w-md w-full\">\r\n        <div>\r\n          <svg\r\n            className=\"fill-current text-teal-700 text-opacity-75 h-16 w-16 mx-auto\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 20 20\"\r\n          >\r\n            <path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM7 6v2a3 3 0 1 0 6 0V6a3 3 0 1 0-6 0zm-3.65 8.44a8 8 0 0 0 13.3 0 15.94 15.94 0 0 0-13.3 0z\" />\r\n          </svg>\r\n          <h2 className=\"mt-6 text-center text-3xl leading-9 font-extrabold text-gray-900\">\r\n            ثبت نام در کتاب خوان\r\n          </h2>\r\n        </div>\r\n        <div className=\"mt-10\">\r\n          <AppForm\r\n            initialValues={{ email: \"\", password: \"\" }}\r\n            onSubmit={(values) =>\r\n              dispatch(auth(values.email, values.password, true))\r\n            }\r\n            validationSchema={validationSchema}\r\n          >\r\n            <div>\r\n              <div>\r\n                <AppFormField name=\"email\" type=\"email\" placeholder=\"ایمیل\" />\r\n              </div>\r\n              <div className=\"mt-8\">\r\n                <AppFormField\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  placeholder=\"رمز عبور\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-8 flex items-center justify-between\">\r\n              <div className=\"text-sm leading-5\">\r\n                <Link\r\n                  to=\"/login\"\r\n                  className=\"font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none focus:underline transition ease-in-out duration-150\"\r\n                >\r\n                  قبلا ثبت نام کرده اید؟\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            <SubmitButton title=\"ثبت نام\">{spinner}</SubmitButton>\r\n          </AppForm>\r\n        </div>\r\n      </div>\r\n      {!!error && (\r\n        <Alert\r\n          subject=\"خطای ثبت نام\"\r\n          description={errorMessage(error.message)}\r\n          okTitle=\"باشد!\"\r\n          close={closeHandler}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","export const truncate = (txt, number) => {\r\n  return txt.length > number ? txt.slice(0, number) : txt;\r\n};\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DropDown from \"./DropDown\";\r\nimport { truncate } from \"../../utility/truncate\";\r\nimport StarRating from \"./StarRating\";\r\n\r\nconst Card = ({ title, image, author, id }) => {\r\n  const authors = useSelector((state) => state.author.authors);\r\n  const authorPreson = authors.find((ath) => ath.name === author);\r\n  return (\r\n    <div className=\"w-full my-2 py-2 pl-2\">\r\n      <div className=\"flex\">\r\n        <Link to={\"/book/\" + id}>\r\n          <img className=\"ml-2 h-auto rounded w-32\" src={image} alt={title} />\r\n        </Link>\r\n        <div className=\"flex-1\">\r\n          <Link\r\n            to={\"/book/\" + id}\r\n            className=\"font-IRANSansBold inline-block border-b-2 border-transparent text-gray-900 hover:text-green-500 hover:border-green-500 pb-1\"\r\n          >\r\n            {title.length > 40 ? truncate(title, 40) + \"...\" : title}\r\n          </Link>\r\n\r\n          <p className=\"mt-2\">\r\n            نویسنده:{\" \"}\r\n            {authorPreson && (\r\n              <Link\r\n                className=\"border-b border-transparent text-gray-900 hover:text-green-500 hover:border-green-500 tracking-tighter\"\r\n                to={`/author/${authorPreson.id}`}\r\n              >\r\n                {author}\r\n              </Link>\r\n            )}\r\n          </p>\r\n          <div className=\"my-4\">\r\n            <StarRating bookId={id} />\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <DropDown bookId={id} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Carousel from \"@brainhubeu/react-carousel\";\r\nimport \"@brainhubeu/react-carousel/lib/style.css\";\r\nimport Cover from \"../../assets/images/cover.gif\";\r\n\r\nconst AppCarousel = (props) => {\r\n  return (\r\n    <div className=\"mx-auto w-full rounded sm:rounded-lg overflow-hidden\">\r\n      <Carousel\r\n        rtl\r\n        keepDirectionWhenDragging\r\n        infinite\r\n        autoPlay={5000}\r\n        animationSpeed={1000}\r\n      >\r\n        <img className=\"w-full\" src={Cover} alt=\"papillon\" />\r\n        <div className=\"w-full h-full flex items-center justify-center bg-gradient-to-r from-purple-400 via-pink-500 to-red-500\">\r\n          <h1 className=\"text-3xl sm:text-5xl sm:tracking-tighter select-none font-IRANSansBold bg-clip-text text-transparent bg-gradient-to-r from-teal-400 to-blue-500\">\r\n            کتاب زندگی‌ست\r\n          </h1>\r\n        </div>\r\n      </Carousel>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppCarousel;\r\n","import { useSelector } from \"react-redux\";\r\nconst useReading = (props) => {\r\n  const books = useSelector((state) => state.book.books);\r\n  const userId = useSelector((state) => state.auth.userId);\r\n  if (!!books) {\r\n    const booksReading = books.filter((book) => {\r\n      if (!!book.status) {\r\n        const statusArray = Object.keys(book.status);\r\n        const userStatusId = statusArray.find((uid) => uid === userId);\r\n        if (!userStatusId) return false;\r\n        if (book.status[userStatusId] === \"در حال خواندن\") return true;\r\n      }\r\n      return false;\r\n    });\r\n    return booksReading;\r\n  }\r\n};\r\n\r\nexport default useReading;\r\n","import { useSelector } from \"react-redux\";\r\n\r\nconst useBestAuthor = (props) => {\r\n  const authors = useSelector((state) => state.author.authors);\r\n  let bestAuthorId = null;\r\n  let maxNumber = 0;\r\n  if (authors) {\r\n    authors.forEach((author) => {\r\n      if (!!author.followers) {\r\n        const lngFollower = Object.keys(author.followers).length;\r\n        if (lngFollower >= maxNumber) {\r\n          maxNumber = lngFollower;\r\n          bestAuthorId = author.id;\r\n        }\r\n      }\r\n    });\r\n  }\r\n  return [maxNumber, bestAuthorId];\r\n};\r\n\r\nexport default useBestAuthor;\r\n","import React from \"react\";\r\n\r\nconst Followers = ({ numberOfFollowers, title }) => {\r\n  if (!numberOfFollowers) return null;\r\n  return (\r\n    <span className=\"font-IRANSansMedium\">\r\n      <span className=\"font-IRANSansFaNumMedium\">{numberOfFollowers}</span>{\" \"}\r\n      {title}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default Followers;\r\n","import React from \"react\";\r\n\r\nconst Button = ({ onClick, children }) => {\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className=\"font-BYekan px-4 py-2 leading-normal text-sm  bg-white border border-gray-300 transition ease-in duration-150 hover:border-gray-500 outline-none focus:outline-none focus:shadow-outline-blue focus:border-gray-600 rounded-lg text-gray-600 active:text-gray-500\"\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { useSelector } from \"react-redux\";\r\n\r\nconst useFollow = (authorId, userId) => {\r\n  const authors = useSelector((state) => state.author.authors);\r\n  const author = authors.find((author) => author.id === authorId);\r\n\r\n  if (author && !!author.followers) {\r\n    const userIds = Object.keys(author.followers);\r\n    return userIds.some((id) => id === userId);\r\n  }\r\n  return false;\r\n};\r\n\r\nexport default useFollow;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Button from \"./common/Button\";\r\nimport httpRequest from \"../api/axios-books\";\r\nimport { addFollower, deleteFollower } from \"../store/actions/author\";\r\nimport useFollow from \"../hooks/useFollow\";\r\nimport Alert from \"./Alert\";\r\n\r\nconst Follow = ({ authorId }) => {\r\n  const [authRequire, setAuthRequire] = useState(null);\r\n  const userId = useSelector((state) => state.auth.userId);\r\n  const token = useSelector((state) => state.auth.token);\r\n  const authors = useSelector((state) => state.author.authors);\r\n  const dispatch = useDispatch();\r\n  const isFollow = useFollow(authorId, userId);\r\n  const handleClose = () => {\r\n    setAuthRequire(false);\r\n  };\r\n  const handleFollow = () => {\r\n    if (!token) {\r\n      setAuthRequire(true);\r\n      return;\r\n    }\r\n    const author = authors.find((author) => author.id === authorId);\r\n    let url = null;\r\n    if (!isFollow) {\r\n      url = `/authors/${authorId}/.json?auth=${token}`;\r\n      const data = {\r\n        followers: { ...author.followers, [userId]: userId },\r\n      };\r\n\r\n      httpRequest\r\n        .patch(url, data)\r\n        .then((res) => {\r\n          dispatch(addFollower(authorId, userId));\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      url = `/authors/${authorId}/followers/${userId}.json?auth=${token}`;\r\n      httpRequest\r\n        .delete(url)\r\n        .then((res) => {\r\n          dispatch(deleteFollower(authorId, userId));\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button onClick={handleFollow}>\r\n        {isFollow ? \"لغو دنبال کردن\" : \"دنبال کردن\"}\r\n      </Button>\r\n      {!!authRequire && (\r\n        <Alert\r\n          cancelTitle=\"انصراف\"\r\n          okTitle=\"ورود\"\r\n          okLink=\"/login\"\r\n          subject=\"وارد حسابتان شوید\"\r\n          description=\"برای فعالیت در سایت باید وارد حساب کاربری خود بشوید!\"\r\n          close={handleClose}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Follow;\r\n","import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Followers from \"./Followers\";\r\nimport Follow from \"../Follow\";\r\nimport { truncate } from \"../../utility/truncate\";\r\nconst BestAuthor = ({ authorId, numberOfFollowers }) => {\r\n  const history = useHistory();\r\n  const authors = useSelector((state) => state.author.authors);\r\n  const author = authors.find((au) => au.id === authorId);\r\n  if (!author) return null;\r\n  return (\r\n    <div className=\"flex my-2\">\r\n      <img\r\n        onClick={() => history.push(\"/author/\" + author.id)}\r\n        className=\"w-40 h-40 rounded-md cursor-pointer ml-2\"\r\n        src={author.imageUrl}\r\n        alt=\"\"\r\n      />\r\n\r\n      <div>\r\n        <div>\r\n          <Link\r\n            to={\"/author/\" + author.id}\r\n            className=\"font-IRANSansMedium border-b border-transparent text-gray-900 hover:text-green-500 hover:border-green-500 tracking-tighter mb-2\"\r\n          >\r\n            {author.name}\r\n          </Link>\r\n        </div>\r\n        <Followers numberOfFollowers={numberOfFollowers} title=\"دنبال‌کننده\" />\r\n        <div className=\"w-11/12\">\r\n          {author.description.length > 40\r\n            ? truncate(author.description, 40) + \"...\"\r\n            : author.description}\r\n        </div>\r\n        <div className=\"mt-2\">\r\n          <Follow authorId={author.id} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BestAuthor;\r\n","import { useSelector } from \"react-redux\";\r\n\r\nconst useBestBook = (props) => {\r\n  const books = useSelector((state) => state.book.books);\r\n  let bestBookId = null;\r\n  let maxNumber = 0;\r\n  if (books) {\r\n    books.forEach((book) => {\r\n      if (!!book.status) {\r\n        const lngStatus = Object.keys(book.status).length;\r\n        if (lngStatus >= maxNumber) {\r\n          maxNumber = lngStatus;\r\n          bestBookId = book.id;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  return [maxNumber, bestBookId];\r\n};\r\n\r\nexport default useBestBook;\r\n","import { useSelector } from \"react-redux\";\r\nconst useAuthorIdWithBook = (book) => {\r\n  const authors = useSelector((state) => state.author.authors);\r\n  let author = null;\r\n  if (!!book) {\r\n    author = authors.find((au) => au.name === book.author);\r\n  }\r\n  return author ? author.id : null;\r\n};\r\n\r\nexport default useAuthorIdWithBook;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport useAuthorIdWithBook from \"../../hooks/useAuthorIdWithBook\";\r\nimport Followers from \"../author/Followers\";\r\nimport DropDown from \"../common/DropDown\";\r\nconst BestBook = ({ numberOfReader, bestBookId }) => {\r\n  const history = useHistory();\r\n  const books = useSelector((state) => state.book.books);\r\n  const book = books.find((book) => book.id === bestBookId);\r\n  const authorId = useAuthorIdWithBook(book);\r\n  if (!book) return null;\r\n  return (\r\n    <div className=\"flex mt-2\">\r\n      <img\r\n        className=\"w-40 h-40 ml-2 cursor-pointer rounded-lg\"\r\n        src={book.imageUrl}\r\n        onClick={() => history.push(\"/book/\" + book.id)}\r\n        alt=\"\"\r\n      />\r\n      <div>\r\n        <Link\r\n          to={\"/book/\" + book.id}\r\n          className=\"font-IRANSansMedium border-b border-transparent text-gray-900 hover:text-green-500 hover:border-green-500 tracking-tighter mb-2\"\r\n        >\r\n          {book.title}\r\n        </Link>\r\n        {authorId && (\r\n          <p>\r\n            نویسنده:{\" \"}\r\n            <Link\r\n              className=\"border-b border-transparent text-gray-900 hover:text-green-500 hover:border-green-500 tracking-tighter\"\r\n              to={`/author/${authorId}`}\r\n            >\r\n              {book.author}\r\n            </Link>\r\n          </p>\r\n        )}\r\n        <Followers numberOfFollowers={numberOfReader} title=\"خواننده\" />\r\n        <div className=\"mt-2\">\r\n          <DropDown bookId={book.id} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BestBook;\r\n","import React from \"react\";\r\nimport { range } from \"../../utility/range\";\r\n\r\nconst Pagination = ({ itemCount, pageSize, onPageChange, currentPage }) => {\r\n  const pageCount = Math.ceil(itemCount / pageSize);\r\n  if (pageCount <= 1) return null;\r\n  const pages = range(pageCount, 1);\r\n  return (\r\n    <div className=\"py-2 flex justify-center\">\r\n      <nav className=\"block\">\r\n        <ul className=\"flex pl-0 rounded list-none flex-wrap\">\r\n          <li>\r\n            <span\r\n              className={`first:mr-0 ${\r\n                currentPage === 1\r\n                  ? \"text-teal-200 border-teal-200 cursor-not-allowed\"\r\n                  : \"text-teal-500 border-teal-500\"\r\n              }  text-xs font-semibold bg-white font-IRANSansFaNum flex w-8 h-8 mx-1 p-0 rounded-full items-center justify-center leading-tight relative border border-solid cursor-pointer`}\r\n              onClick={\r\n                currentPage !== 1\r\n                  ? () => onPageChange(currentPage - 1)\r\n                  : undefined\r\n              }\r\n            >\r\n              <svg\r\n                className=\"w-4 h-4\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M9 5l7 7-7 7\"\r\n                />\r\n              </svg>\r\n            </span>\r\n          </li>\r\n          {pages.map((page) => (\r\n            <li key={page}>\r\n              <span\r\n                className={`first:mr-0 text-xs ${\r\n                  page === currentPage\r\n                    ? \"bg-teal-500 text-white\"\r\n                    : \"text-teal-500 bg-white\"\r\n                } font-semibold font-IRANSansFaNum flex w-8 h-8 mx-1 p-0 rounded-full items-center justify-center leading-tight relative border border-solid border-teal-500 cursor-pointer`}\r\n                onClick={() => onPageChange(page)}\r\n              >\r\n                {page}\r\n              </span>\r\n            </li>\r\n          ))}\r\n          <li>\r\n            <span\r\n              className={`first:mr-0 ${\r\n                currentPage === pageCount\r\n                  ? \"text-teal-200 border-teal-200 cursor-not-allowed\"\r\n                  : \"text-teal-500 border-teal-500\"\r\n              } bg-white text-xs font-semibold font-IRANSansFaNum flex w-8 h-8 mx-1 p-0 rounded-full items-center justify-center leading-tight relative border border-solid cursor-pointer`}\r\n              onClick={\r\n                currentPage !== pageCount\r\n                  ? () => onPageChange(currentPage + 1)\r\n                  : undefined\r\n              }\r\n            >\r\n              <svg\r\n                className=\"w-4 h-4\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M15 19l-7-7 7-7\"\r\n                />\r\n              </svg>\r\n            </span>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React, { useState } from \"react\";\r\nimport { paginate } from \"../../utility/paginate\";\r\nimport Card from \"../common/Card\";\r\nimport Pagination from \"../common/Pagination\";\r\n\r\nconst AllBook = ({ books }) => {\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const pageSize = 5;\r\n  const paginateBooks = paginate(books, currentPage, pageSize);\r\n\r\n  const handlePageChange = (page) => {\r\n    setCurrentPage(page);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {paginateBooks.map((book) => (\r\n        <React.Fragment key={book.id}>\r\n          <Card\r\n            id={book.id}\r\n            title={book.title}\r\n            image={book.imageUrl}\r\n            author={book.author}\r\n          />\r\n          <hr className=\"border-t border-gray-300 mt-1\" />\r\n        </React.Fragment>\r\n      ))}\r\n      <Pagination\r\n        itemCount={books.length}\r\n        currentPage={currentPage}\r\n        pageSize={pageSize}\r\n        onPageChange={handlePageChange}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AllBook;\r\n","export function paginate(items, pageNumber, pageSize) {\r\n  const startIndex = (pageNumber - 1) * pageSize;\r\n  return items.slice(startIndex, startIndex + pageSize);\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Card from \"./common/Card\";\r\nimport AppCarousel from \"./common/AppCarousel\";\r\nimport useReading from \"../hooks/useReading\";\r\nimport Details from \"./common/Details\";\r\nimport useBestAuthor from \"../hooks/useBestAuthor\";\r\nimport BestAuthor from \"./author/BestAuthor\";\r\nimport useBestBook from \"../hooks/useBestBook\";\r\nimport BestBook from \"./book/BestBook\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AllBook from \"./book/AllBook\";\r\n\r\nconst Home = (props) => {\r\n  const books = useSelector((state) => state.book.books);\r\n  const isAuth = !!useSelector((state) => state.auth.token);\r\n\r\n  const booksReading = useReading();\r\n  const [maxNumber, bestAuthorId] = useBestAuthor();\r\n  const [maxNumberOfReader, bestBookId] = useBestBook();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"hidden sm:flex lg:hidden mt-4\">\r\n        <AppCarousel />\r\n      </div>\r\n      <div className=\"flex flex-col sm:flex-row w-full h-full\">\r\n        <div className=\"w-full sm:w-6/12 lg:w-3/12 pt-4\">\r\n          <div className=\"mb-4 hidden lg:hidden sm:flex sm:flex-col\">\r\n            <div>\r\n              <Details title=\"پرمخاطب‌ترین نویسنده\" />\r\n              <BestAuthor\r\n                authorId={bestAuthorId}\r\n                numberOfFollowers={maxNumber}\r\n              />\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <Details title=\"پرمخاطب‌ترین کتاب\" />\r\n              <BestBook\r\n                numberOfReader={maxNumberOfReader}\r\n                bestBookId={bestBookId}\r\n              />\r\n            </div>\r\n          </div>\r\n          <Details title=\"در حال خواندن\" size=\"text-sm\" />\r\n          {isAuth && booksReading.length > 0 ? (\r\n            booksReading.map((book) => (\r\n              <Card\r\n                key={book.id}\r\n                id={book.id}\r\n                title={book.title}\r\n                image={book.imageUrl}\r\n                author={book.author}\r\n              />\r\n            ))\r\n          ) : isAuth ? (\r\n            <p className=\"hover:text-teal-600 animate-pulse\">\r\n              کتاب در حال خواندن در قفسه موجود نیست\r\n            </p>\r\n          ) : (\r\n            <Link to=\"/login\" className=\"hover:text-teal-600 animate-pulse\">\r\n              برای مشاهده‌ی کتاب‌های در حال خواندن لطفا وارد حساب کاربری خود\r\n              شوید\r\n            </Link>\r\n          )}\r\n        </div>\r\n        <div className=\"w-full order-last sm:order-none sm:w-6/12 lg:w-6/12 pt-2 mx-2\">\r\n          <div className=\"hidden lg:flex\">\r\n            <AppCarousel />\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <Details title=\"همه‌ی کتاب‌ها\" size=\"text-sm\" />\r\n          </div>\r\n          <AllBook books={books} />\r\n        </div>\r\n        <div className=\"w-full order-first sm:order-none sm:hidden lg:flex lg:flex-col lg:w-3/12 \">\r\n          <div className=\"sm:hidden mt-4\">\r\n            <AppCarousel />\r\n          </div>\r\n          <div className=\"mt-4\">\r\n            <Details title=\"پرمخاطب‌ترین نویسنده\" />\r\n            <BestAuthor authorId={bestAuthorId} numberOfFollowers={maxNumber} />\r\n          </div>\r\n          <div className=\"mt-4\">\r\n            <Details title=\"پرمخاطب‌ترین کتاب\" />\r\n            <BestBook\r\n              numberOfReader={maxNumberOfReader}\r\n              bestBookId={bestBookId}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport { truncate } from \"../../utility/truncate\";\r\n\r\nconst DescriptionTruncate = ({ description, number }) => {\r\n  const [text, setText] = useState(\r\n    description.length > number ? truncate(description, number) : description\r\n  );\r\n  const [isMore, setIsMore] = useState(\r\n    description.length > number ? true : false\r\n  );\r\n\r\n  const handleClick = () => {\r\n    isMore ? setText(description) : setText(truncate(description, number));\r\n    setIsMore((prevState) => !prevState);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <p className=\"text-justify\">\r\n        {text}\r\n        {isMore && <span>... </span>}\r\n        {description.length > number && (\r\n          <span\r\n            onClick={handleClick}\r\n            className=\"text-sm text-indigo-500 hover:text-indigo-600 cursor-pointer\"\r\n          >\r\n            ({isMore ? \"بیشتر\" : \"کمتر\"})\r\n          </span>\r\n        )}\r\n      </p>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DescriptionTruncate;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DropDown from \"../common/DropDown\";\r\nimport Details from \"../common/Details\";\r\nimport DescriptionTruncate from \"../common/DescriptionTruncate\";\r\nimport Follow from \"../Follow\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport StarRating from \"../common/StarRating\";\r\nimport useRating from \"../../hooks/useRating\";\r\n\r\nconst Book = (props) => {\r\n  const books = useSelector((state) => state.book.books);\r\n  const book = books.find((book) => book.id === props.match.params.id);\r\n  const authors = useSelector((state) => state.author.authors);\r\n  const authorPreson = authors.find((ath) => ath.name === book.author);\r\n  const rating = useRating(null, book);\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n  return (\r\n    <div className=\"md:flex pt-4\">\r\n      <div className=\"flex w-full lg:w-9/12 md:w-7/12\">\r\n        <div className=\"w-full my-2 py-2 pl-2\">\r\n          {book && (\r\n            <>\r\n              <Helmet>\r\n                <title>کتاب | {book.title}</title>\r\n              </Helmet>\r\n              <div className=\"flex\">\r\n                <img\r\n                  className=\"ml-2 h-48 rounded w-32\"\r\n                  src={book.imageUrl}\r\n                  alt={book.title}\r\n                />\r\n                <div className=\"flex-1\">\r\n                  <span className=\"font-IRANSansBold inline-block text-gray-900 pb-1\">\r\n                    {book.title}\r\n                  </span>\r\n\r\n                  <p className=\"mt-2\">\r\n                    نویسنده:{\" \"}\r\n                    {authorPreson && (\r\n                      <Link\r\n                        to={\"/author/\" + authorPreson.id}\r\n                        className=\"border-b border-transparent text-gray-900 hover:text-green-500 hover:border-green-500 tracking-tighter\"\r\n                      >\r\n                        {book.author}\r\n                      </Link>\r\n                    )}\r\n                  </p>\r\n                  <div className=\"my-4\">\r\n                    <StarRating currentRating={rating} bookId={book.id} />\r\n                  </div>\r\n                  <div className=\"my-2\">\r\n                    <DropDown bookId={book.id} />\r\n                  </div>\r\n                  <span className=\"font-IRANSansFaNum text-sm ml-4\">\r\n                    {book.pages} صفحه\r\n                  </span>\r\n                  <span className=\"text-sm\">انتشارات: {book.publisher}</span>\r\n                  <div className=\"w-full lg:w-1/3 md:w-2/3\">\r\n                    <DescriptionTruncate\r\n                      description={book.description}\r\n                      number={80}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"w-full lg:w-3/12 md:w-5/12\">\r\n        {authorPreson && (\r\n          <div>\r\n            <Details\r\n              title={\r\n                <Link\r\n                  to={\"/author/\" + authorPreson.id}\r\n                  className=\" hover:text-green-500 tracking-tighter\"\r\n                >\r\n                  درباره‌ی {book.author}\r\n                </Link>\r\n              }\r\n            />\r\n            <div className=\"flex mb-2 md:mb-0 mt-2 w-full items-center\">\r\n              <img\r\n                className=\"w-20 h-20 rounded-full ml-3\"\r\n                src={authorPreson.imageUrl}\r\n                alt={authorPreson.name}\r\n              />\r\n              <div>\r\n                <p className=\"mb-1\">{authorPreson.name}</p>\r\n                <Follow authorId={authorPreson.id} />\r\n              </div>\r\n            </div>\r\n            <DescriptionTruncate\r\n              description={authorPreson.description}\r\n              number={200}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Book;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DropDown from \"../common/DropDown\";\r\nimport StarRating from \"../common/StarRating\";\r\n\r\nconst ListAutorBook = ({ book }) => {\r\n  return (\r\n    <>\r\n      <div className=\"flex flex-col sm:flex-row w-full sm:justify-between sm:items-center\">\r\n        <div className=\"my-2 py-2 px-2\">\r\n          <div className=\"flex\">\r\n            <Link to={\"/book/\" + book.id}>\r\n              <img\r\n                className=\"ml-2 h-auto rounded w-20\"\r\n                src={book.imageUrl}\r\n                alt={book.title}\r\n              />\r\n            </Link>\r\n            <div className=\"flex-1\">\r\n              <Link\r\n                to={\"/book/\" + book.id}\r\n                className=\"font-IRANSansBold inline-block text-gray-900 border-b border-transparent hover:text-green-500 hover:border-green-500 pb-1\"\r\n              >\r\n                {book.title}\r\n              </Link>\r\n\r\n              <p className=\"mt-2\">\r\n                <span className=\"hidden md:inline\">نویسنده: </span>\r\n                <span className=\"text-gray-900 tracking-tighter\">\r\n                  {book.author}\r\n                </span>\r\n              </p>\r\n              <div className=\"mt-4\">\r\n                <StarRating bookId={book.id} />\r\n              </div>\r\n              <div className=\"mt-4 sm:hidden\">\r\n                <DropDown bookId={book.id} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"my-2 py-2 px-2 hidden sm:flex\">\r\n          <DropDown bookId={book.id} />\r\n        </div>\r\n      </div>\r\n      <hr className=\"border-t border-gray-400\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ListAutorBook;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Details from \"../common/Details\";\r\nimport ListAutorBook from \"./ListAutorBook\";\r\nimport Follow from \"../Follow\";\r\nimport Followers from \"./Followers\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nconst Author = (props) => {\r\n  const authors = useSelector((state) => state.author.authors);\r\n  const author = authors.find((au) => au.id === props.match.params.id);\r\n  const books = useSelector((state) => state.book.books);\r\n  const authorBooks = author\r\n    ? books.filter((book) => book.author === author.name)\r\n    : null;\r\n  const numberOfFollowers =\r\n    author && author.followers ? Object.keys(author.followers).length : null;\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {author && (\r\n        <>\r\n          <Helmet>\r\n            <title>نویسنده | {author.name}</title>\r\n          </Helmet>\r\n          <div className=\"sm:flex mt-2\">\r\n            <div className=\"w-full sm:w-3/12 flex-1 rounded-lg pt-2 px-8 sm:px-1 lg:px-8\">\r\n              <img\r\n                className=\"w-48 h-48 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-lg mx-auto\"\r\n                src={author.imageUrl}\r\n                alt={author.name}\r\n              />\r\n              <div className=\"w-full flex justify-center mt-2\">\r\n                <Follow authorId={author.id} />\r\n              </div>\r\n              <div className=\"w-full flex justify-center mt-2\">\r\n                <Followers\r\n                  numberOfFollowers={numberOfFollowers}\r\n                  title=\"دنبال‌کننده\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"w-full sm:w-9/12 h-full px-8 pt-2\">\r\n              <Details title={author.name} />\r\n              <div>\r\n                <span className=\"block text-gray-700 my-2 text-justify\">\r\n                  {author.description}\r\n                </span>\r\n              </div>\r\n              <div className=\"mt-5\">\r\n                <Details title={`کتاب‌های ${author.name}`} size=\"text-base\" />\r\n              </div>\r\n              <div>\r\n                {authorBooks.map((book) => (\r\n                  <ListAutorBook key={book.id} book={book} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Author;\r\n","import React from \"react\";\r\nimport { AppForm, AppFormField, SubmitButton } from \".\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"../../api/axios-books\";\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  title: Yup.string()\r\n    .required(\"وارد کردن نام کتاب الزامی ست.\")\r\n    .label(\"نام کتاب\"),\r\n  imageUrl: Yup.string()\r\n    .required(\"وارد کردن لینک تصویر الزامی ست.\")\r\n    .label(\"تصویر\"),\r\n  author: Yup.string()\r\n    .required(\"وارد کردن نویسنده الزامی ست.\")\r\n    .label(\"نویسنده\"),\r\n  description: Yup.string()\r\n    .required(\"وارد کردن توضیحات الزامی ست.\")\r\n    .label(\"توضیحات\"),\r\n  pages: Yup.string()\r\n    .required(\"وارد کردن تعداد صفحات الزامی ست.\")\r\n    .label(\"تعداد صفحات\"),\r\n  publisher: Yup.string()\r\n    .required(\"وارد کردن انتشارات الزامی ست.\")\r\n    .label(\"انتشارات\"),\r\n});\r\n\r\nconst CreateBook = (props) => {\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full\">\r\n        <div className=\"mt-10\">\r\n          <AppForm\r\n            initialValues={{\r\n              title: \"\",\r\n              imageUrl: \"\",\r\n              author: \"\",\r\n              description: \"\",\r\n              pages: \"\",\r\n              publisher: \"\",\r\n            }}\r\n            onSubmit={(values) => axios.post(\"/books.json\", values)}\r\n            validationSchema={validationSchema}\r\n          >\r\n            <div>\r\n              <div>\r\n                <AppFormField name=\"title\" placeholder=\"نام کتاب\" />\r\n              </div>\r\n              <div className=\"mt-8\">\r\n                <AppFormField name=\"imageUrl\" placeholder=\"تصویر\" />\r\n              </div>\r\n              <div className=\"mt-8\">\r\n                <AppFormField name=\"author\" placeholder=\"نویسنده\" />\r\n              </div>\r\n              <div className=\"mt-8\">\r\n                <AppFormField name=\"description\" placeholder=\"توضیحات\" />\r\n              </div>\r\n              <div className=\"mt-8\">\r\n                <AppFormField name=\"pages\" placeholder=\"تعداد صفحات\" />\r\n              </div>\r\n              <div className=\"my-8\">\r\n                <AppFormField name=\"publisher\" placeholder=\"انتشارات\" />\r\n              </div>\r\n            </div>\r\n\r\n            <SubmitButton title=\"ثبت کتاب\">\r\n              <svg\r\n                className=\"pencil-alt w-6 h-6 text-indigo-500 group-hover:text-indigo-400 transition ease-in-out duration-150\"\r\n                viewBox=\"0 0 20 20\"\r\n                fill=\"currentColor\"\r\n              >\r\n                <path d=\"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z\" />\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n            </SubmitButton>\r\n          </AppForm>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateBook;\r\n","import React from \"react\";\r\nimport { AppForm, AppFormField, SubmitButton } from \".\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"../../api/axios-books\";\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .required(\"وارد کردن نام نویسنده الزامی ست.\")\r\n    .label(\"نام کتاب\"),\r\n  imageUrl: Yup.string()\r\n    .required(\"وارد کردن لینک تصویر الزامی ست.\")\r\n    .label(\"تصویر\"),\r\n  description: Yup.string()\r\n    .required(\"وارد کردن توضیحات الزامی ست.\")\r\n    .label(\"توضیحات\"),\r\n});\r\n\r\nconst CreateAuthor = (props) => {\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full\">\r\n        <div className=\"mt-10\">\r\n          <AppForm\r\n            initialValues={{\r\n              name: \"\",\r\n              imageUrl: \"\",\r\n              description: \"\",\r\n            }}\r\n            onSubmit={(values) => axios.post(\"/authors.json\", values)}\r\n            validationSchema={validationSchema}\r\n          >\r\n            <div>\r\n              <div>\r\n                <AppFormField name=\"name\" placeholder=\"نام نویسنده\" />\r\n              </div>\r\n              <div className=\"mt-8\">\r\n                <AppFormField name=\"imageUrl\" placeholder=\"تصویر\" />\r\n              </div>\r\n              <div className=\"mt-8\">\r\n                <AppFormField name=\"description\" placeholder=\"توضیحات\" />\r\n              </div>\r\n            </div>\r\n\r\n            <SubmitButton title=\"ثبت نویسنده\">\r\n              <svg\r\n                className=\"pencil-alt w-6 h-6 text-indigo-500 group-hover:text-indigo-400 transition ease-in-out duration-150\"\r\n                viewBox=\"0 0 20 20\"\r\n                fill=\"currentColor\"\r\n              >\r\n                <path d=\"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z\" />\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n            </SubmitButton>\r\n          </AppForm>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateAuthor;\r\n","import React, { useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { authLogout } from \"../store/actions/auth\";\r\n\r\nconst Logout = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(authLogout());\r\n  }, [dispatch]);\r\n\r\n  return <Redirect to=\"/\" />;\r\n};\r\n\r\nexport default Logout;\r\n","import React from \"react\";\r\n\r\nconst NotFound = (props) => {\r\n  return (\r\n    <div className=\"w-full h-screen flex flex-col sm:flex-row justify-center items-center\">\r\n      <h1 className=\"font-IRANSansMedium text-teal-700 text-xl sm:text-3xl\">\r\n        صفحه مورد نظر یافت نشد!\r\n      </h1>\r\n      <svg\r\n        className=\"w-32 h-32 sm:w-64 sm:h-64 text-yellow-400 mr-1 order-first sm:order-none\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        viewBox=\"0 0 24 24\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\r\n        />\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React, { useEffect, Suspense } from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport Layout from \"./components/layout/Layout\";\nimport Login from \"./components/form/LoginForm\";\nimport Register from \"./components/form/RegisterForm\";\nimport Home from \"./components/Home\";\nimport Book from \"./components/book/Book\";\nimport Author from \"./components/author/Author\";\nimport CreateBook from \"./components/form/CreateBook\";\nimport CreateAuthor from \"./components/form/CreateAuthor\";\nimport Logout from \"./components/Logout\";\nimport NotFound from \"./components/not-found/NotFound\";\nimport ProgressBar from \"./components/common/ProgressBar\";\nimport { fetchBooks } from \"./store/actions/book\";\nimport { fetchAuthors } from \"./store/actions/author\";\nimport { authCheckState } from \"./store/actions/auth\";\n\nconst Cv = React.lazy(() => import(\"./components/cv/Cv\"));\nconst MyBooks = React.lazy(() => import(\"./components/myBook/MyBooks\"));\n\nconst App = (props) => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(authCheckState());\n  }, [dispatch]);\n\n  useEffect(() => {\n    dispatch(fetchBooks());\n  }, [dispatch]);\n\n  useEffect(() => {\n    dispatch(fetchAuthors());\n  }, [dispatch]);\n\n  return (\n    <>\n      <Layout>\n        <Suspense fallback={<ProgressBar loading={true} />}>\n          <Switch>\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/logout\" component={Logout} />\n            <Route path=\"/register\" component={Register} />\n            <Route path=\"/createbook\" component={CreateBook} />\n            <Route path=\"/createauthor\" component={CreateAuthor} />\n            <Route path=\"/cv\" component={Cv} />\n            <Route path=\"/my-books\" component={MyBooks} />\n            <Route path=\"/book/:id\" component={Book} />\n            <Route path=\"/author/:id\" component={Author} />\n            <Route path=\"/not-found\" component={NotFound} />\n            <Route path=\"/\" exact component={Home} />\n            <Redirect to=\"/not-found\" />\n          </Switch>\n        </Suspense>\n      </Layout>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport \"./styles/main.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","import axios from \"axios\";\r\n\r\nexport const AUTH_START = \"AUTH_START\";\r\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\r\nexport const AUTH_FAIL = \"AUTH_FAIL\";\r\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\r\nexport const AUTH_ERROR_TO_NULL = \"AUTH_ERROR_TO_NULL\";\r\n\r\nexport const authStart = () => {\r\n  return {\r\n    type: AUTH_START,\r\n  };\r\n};\r\n\r\nexport const authSuccess = (token, userId) => {\r\n  return {\r\n    type: AUTH_SUCCESS,\r\n    idToken: token,\r\n    userId,\r\n  };\r\n};\r\n\r\nexport const authFail = (error) => {\r\n  return {\r\n    type: AUTH_FAIL,\r\n    error,\r\n  };\r\n};\r\nexport const authErorToNull = () => {\r\n  return {\r\n    type: AUTH_ERROR_TO_NULL,\r\n  };\r\n};\r\n\r\nexport const authLogout = () => {\r\n  localStorage.removeItem(\"token\");\r\n  localStorage.removeItem(\"expirationDate\");\r\n  localStorage.removeItem(\"userId\");\r\n  return {\r\n    type: AUTH_LOGOUT,\r\n  };\r\n};\r\n\r\nexport const checkAuthTimeout = (exprationTime) => {\r\n  return async (dispatch) => {\r\n    setTimeout(() => {\r\n      dispatch(authLogout());\r\n    }, exprationTime * 1000);\r\n  };\r\n};\r\n\r\nexport const auth = (email, password, isSignup) => {\r\n  return async (dispatch) => {\r\n    dispatch(authStart());\r\n    let url =\r\n      \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDVkpd6U-C8OqSo4ErlfwvW2PI_4Bpo2Cs\";\r\n    if (!isSignup) {\r\n      url =\r\n        \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDVkpd6U-C8OqSo4ErlfwvW2PI_4Bpo2Cs\";\r\n    }\r\n    axios\r\n      .post(url, {\r\n        email: email,\r\n        password: password,\r\n        returnSecureToken: true,\r\n      })\r\n      .then((res) => {\r\n        const expirationDate = new Date(\r\n          new Date().getTime() + res.data.expiresIn * 1000\r\n        );\r\n        localStorage.setItem(\"token\", res.data.idToken);\r\n        localStorage.setItem(\"expirationDate\", expirationDate);\r\n        localStorage.setItem(\"userId\", res.data.localId);\r\n        dispatch(authSuccess(res.data.idToken, res.data.localId));\r\n        dispatch(checkAuthTimeout(res.data.expiresIn));\r\n      })\r\n      .catch((err) => {\r\n        if (!!err.response) {\r\n          dispatch(authFail(err.response.data.error));\r\n        }\r\n      });\r\n  };\r\n};\r\n\r\nexport const authCheckState = (params) => {\r\n  return async (dispatch, getState) => {\r\n    const { auth } = getState();\r\n    if (!auth.token) {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) {\r\n        dispatch(authLogout());\r\n      } else {\r\n        const expirationDate = new Date(localStorage.getItem(\"expirationDate\"));\r\n        if (expirationDate <= new Date()) {\r\n          dispatch(authLogout());\r\n        } else {\r\n          const userId = localStorage.getItem(\"userId\");\r\n          dispatch(authSuccess(token, userId));\r\n          dispatch(\r\n            checkAuthTimeout(\r\n              (expirationDate.getTime() - new Date().getTime()) / 1000\r\n            )\r\n          );\r\n        }\r\n      }\r\n    }\r\n  };\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://booklife-edf44.firebaseio.com/\",\r\n});\r\n\r\nexport default instance;\r\n","import React from \"react\";\r\n\r\nconst Details = ({ title, size = \"text-xl\" }) => {\r\n  return (\r\n    <>\r\n      <h1 className={`font-IRANSansMedium ${size} text-gray-600`}>{title}</h1>\r\n      <hr className=\"border-t border-gray-400 mt-1\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Details;\r\n","import httpRequest from \"../../api/axios-books\";\r\n\r\nexport const FETCH_BOOKS = \"FETCH_BOOKS\";\r\nexport const ADD_STATUS = \"ADD_STATUS\";\r\nexport const DELETE_STATUS = \"DELETE_STATUS\";\r\nexport const UPDATE_RATING = \"UPDATE_RATING\";\r\n\r\nexport const updateRating = (num, url, userId, bookId, currentRating) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch({\r\n        type: UPDATE_RATING,\r\n        rating: num,\r\n        bookId,\r\n        userId,\r\n      });\r\n      const data = { [userId]: num };\r\n      await httpRequest.patch(url, data);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: UPDATE_RATING,\r\n        rating: currentRating,\r\n        bookId,\r\n        userId,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteStatus = (bookId, userId) => {\r\n  console.log(\"hellllooooo\");\r\n  return {\r\n    type: DELETE_STATUS,\r\n    bookId,\r\n    userId,\r\n  };\r\n};\r\n\r\nexport const addStatus = (bookId, userId, item) => {\r\n  return {\r\n    type: ADD_STATUS,\r\n    bookId,\r\n    userId,\r\n    item,\r\n  };\r\n};\r\n\r\nexport const fetchBooks = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const books = await httpRequest.get(\"/books.json\");\r\n      dispatch({\r\n        type: FETCH_BOOKS,\r\n        books: books.data,\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Alert = ({\r\n  close,\r\n  okTitle,\r\n  okLink,\r\n  cancelTitle,\r\n  subject,\r\n  description,\r\n}) => {\r\n  return (\r\n    <>\r\n      <div className=\"fixed z-30 inset-0 overflow-y-auto\">\r\n        <div className=\"flex justify-center items-center min-h-full\">\r\n          <div className=\"fixed inset-0\">\r\n            <div\r\n              onClick={close}\r\n              className=\"absolute inset-0 bg-gray-500 opacity-75\"\r\n            ></div>\r\n          </div>\r\n          <div className=\"w-2/3 sm:w-1/2 lg:w-4/12 rounded-lg z-40\">\r\n            <div className=\"flex flex-row\">\r\n              <div className=\"flex w-full mx-auto bg-white shadow-md rounded-lg overflow-hidden\">\r\n                <div className=\"flex justify-center items-center w-12 bg-yellow-500\">\r\n                  <svg\r\n                    className=\"h-6 w-6 fill-current text-white\"\r\n                    viewBox=\"0 0 40 40\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                  >\r\n                    <path d=\"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z\" />\r\n                  </svg>\r\n                </div>\r\n\r\n                <div className=\"-mx-3 py-2 px-4\">\r\n                  <div className=\"mx-3\">\r\n                    <span className=\"text-yellow-500 font-semibold\">\r\n                      {subject}\r\n                    </span>\r\n                    <p className=\"text-gray-600 text-sm mt-3\">{description}</p>\r\n                    <div className=\"mt-4 mb-2\">\r\n                      {!!okLink ? (\r\n                        <>\r\n                          <Link\r\n                            to={`${okLink}`}\r\n                            className=\"ml-3 px-3 py-1 leading-normal font-semibold text-sm bg-white border border-gray-300 transition ease-in duration-150 hover:border-blue-500 cursor-pointer outline-none focus:outline-none focus:shadow-outline-blue focus:border-blue-600 rounded-lg text-blue-600 active:text-blue-500\"\r\n                          >\r\n                            {okTitle}\r\n                          </Link>\r\n                          <span\r\n                            onClick={close}\r\n                            className=\"px-3 py-1 leading-normal font-semibold text-sm bg-white border border-gray-300 transition ease-in duration-150 hover:border-red-500 cursor-pointer outline-none focus:outline-none focus:shadow-outline-blue focus:border-red-600 rounded-lg text-red-600 active:text-red-500\"\r\n                          >\r\n                            {cancelTitle}\r\n                          </span>\r\n                        </>\r\n                      ) : (\r\n                        <span\r\n                          onClick={close}\r\n                          className=\"px-3 py-1 leading-normal font-semibold text-sm bg-white border border-gray-300 transition ease-in duration-150 hover:border-blue-500 cursor-pointer outline-none focus:outline-none focus:shadow-outline-blue focus:border-blue-600 rounded-lg text-blue-600 active:text-blue-500\"\r\n                        >\r\n                          {okTitle}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import { useSelector } from \"react-redux\";\r\n\r\nconst useStatus = (bookId, userId) => {\r\n  const books = useSelector((state) => state.book.books);\r\n  const book = books.find((book) => book.id === bookId);\r\n\r\n  if (book && !!book.status) {\r\n    const userIds = Object.keys(book.status);\r\n    const userIdStatus = userIds.find((id) => id === userId);\r\n    if (!!userIdStatus) {\r\n      return book.status[userIdStatus];\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nexport default useStatus;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport httpRequest from \"../../api/axios-books\";\r\nimport { addStatus } from \"../../store/actions/book\";\r\nimport useStatus from \"../../hooks/useStatus\";\r\nimport Alert from \"../Alert\";\r\n\r\nconst DropDown = ({ bookId }) => {\r\n  const [authRequire, setAuthRequire] = useState(null);\r\n  const userId = useSelector((state) => state.auth.userId);\r\n  const token = useSelector((state) => state.auth.token);\r\n  const books = useSelector((state) => state.book.books);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const status = useStatus(bookId, userId);\r\n\r\n  const handleClose = () => {\r\n    setAuthRequire(false);\r\n  };\r\n\r\n  const selectHandler = (item) => {\r\n    if (!token) {\r\n      setAuthRequire(true);\r\n      return;\r\n    }\r\n    const book = books.find((book) => book.id === bookId);\r\n    const url = `/books/${bookId}/.json?auth=${token}`;\r\n    const data = {\r\n      status: { ...book.status, [userId]: item },\r\n    };\r\n\r\n    httpRequest\r\n      .patch(url, data)\r\n      .then((res) => {\r\n        dispatch(addStatus(bookId, userId, item));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <button\r\n        onClick={() => setIsOpen((prevState) => !prevState)}\r\n        type=\"submit\"\r\n        className=\"relative w-40 flex px-4 py-2 leading-normal text-sm bg-white border border-gray-300 transition ease-in duration-150 hover:border-gray-500 outline-none focus:outline-none focus:shadow-outline-blue focus:border-gray-600 rounded-lg text-gray-600 active:text-gray-500\"\r\n      >\r\n        <span className=\"absolute left-0 inset-y-0 flex items-center pl-3\">\r\n          <svg\r\n            viewBox=\"0 0 20 20\"\r\n            fill=\"currentColor\"\r\n            className=\"chevron-down w-6 h-6\"\r\n          >\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\r\n              clipRule=\"evenodd\"\r\n            />\r\n          </svg>\r\n        </span>\r\n        <span className=\"font-IRANSans text-sm\">\r\n          {!!status ? status : \"تغییر وضعیت\"}\r\n        </span>\r\n      </button>\r\n      {isOpen && (\r\n        <div className=\"absolute right-0 z-10 bg-white rounded-lg py-2 w-40 mt-1 shadow-md\">\r\n          <span\r\n            onClick={() => selectHandler(\"می‌خواهم بخوانم\")}\r\n            className=\"block py-2 px-4 text-gray-800 hover:bg-indigo-500 hover:text-white cursor-pointer\"\r\n          >\r\n            می‌خواهم بخوانم\r\n          </span>\r\n          <span\r\n            onClick={() => selectHandler(\"در حال خواندن\")}\r\n            className=\"block py-2 px-4 text-gray-800 hover:bg-indigo-500 hover:text-white cursor-pointer\"\r\n          >\r\n            در حال خواندن\r\n          </span>\r\n          <span\r\n            onClick={() => selectHandler(\"خواندم\")}\r\n            className=\"block py-2 px-4 text-gray-800 hover:bg-indigo-500 hover:text-white cursor-pointer\"\r\n          >\r\n            خواندم\r\n          </span>\r\n        </div>\r\n      )}\r\n      {!!authRequire && (\r\n        <Alert\r\n          cancelTitle=\"انصراف\"\r\n          okTitle=\"ورود\"\r\n          okLink=\"/login\"\r\n          subject=\"وارد حسابتان شوید\"\r\n          description=\"برای فعالیت در سایت باید وارد حساب کاربری خود بشوید!\"\r\n          close={handleClose}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DropDown;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { range } from \"../../utility/range\";\r\nimport { updateRating } from \"../../store/actions/book\";\r\nimport useRating from \"../../hooks/useRating\";\r\nimport Alert from \"../Alert\";\r\n\r\nconst StarRating = ({ length = 5, bookId }) => {\r\n  const [authRequire, setAuthRequire] = useState(null);\r\n  const currentRating = useRating(bookId);\r\n  const dispatch = useDispatch();\r\n  const [ratingHover, setRatingHover] = useState(currentRating);\r\n  const token = useSelector((state) => state.auth.token);\r\n  const userId = useSelector((state) => state.auth.userId);\r\n\r\n  const url = `/books/${bookId}/ratings/.json?auth=${token}`;\r\n\r\n  const mouseLeaveHandler = () => {\r\n    setRatingHover(currentRating);\r\n  };\r\n  const handleClose = () => {\r\n    setAuthRequire(false);\r\n  };\r\n  const handlerClick = (num) => {\r\n    if (!token) {\r\n      setAuthRequire(true);\r\n      return;\r\n    }\r\n    dispatch(updateRating(num, url, userId, bookId, currentRating));\r\n  };\r\n  return (\r\n    <div className=\"flex items-center\">\r\n      <div className=\"flex items-center\">\r\n        {range(length, 1).map((num) => (\r\n          <svg\r\n            onClick={() => handlerClick(num)}\r\n            onMouseEnter={() => {\r\n              setRatingHover(num);\r\n            }}\r\n            onMouseLeave={mouseLeaveHandler}\r\n            key={num}\r\n            className={`mx-1 w-4 h-4 fill-current ${\r\n              num > currentRating && num > ratingHover\r\n                ? \"text-gray-400\"\r\n                : \"text-orange-500 scale-110\"\r\n            } hover:text-orange-500 cursor-pointer transition ease-in duration-200 transform hover:scale-110`}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 20 20\"\r\n          >\r\n            <path d=\"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z\" />\r\n          </svg>\r\n        ))}\r\n        {!!authRequire && (\r\n          <Alert\r\n            cancelTitle=\"انصراف\"\r\n            okTitle=\"ورود\"\r\n            okLink=\"/login\"\r\n            subject=\"وارد حسابتان شوید\"\r\n            description=\"برای فعالیت در سایت باید وارد حساب کاربری خود بشوید!\"\r\n            close={handleClose}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StarRating;\r\n","export const range = (size, startAt = 0) => {\r\n  return [...Array(size).keys()].map((i) => i + startAt);\r\n};\r\n","import { useSelector } from \"react-redux\";\r\n\r\nconst useRating = (id, bookObject = null) => {\r\n  const books = useSelector((state) => state.book.books);\r\n  const userId = useSelector((state) => state.auth.userId);\r\n\r\n  let bookId = id;\r\n  if (id === null && bookObject !== null) {\r\n    bookId = bookObject.id;\r\n  }\r\n  const book = books.find((book) => book.id === bookId);\r\n\r\n  if (book && !!book.ratings) {\r\n    const userIds = Object.keys(book.ratings);\r\n    const userIdRating = userIds.find((id) => id === userId);\r\n    if (!!userIdRating) {\r\n      return book.ratings[userIdRating];\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nexport default useRating;\r\n"],"sourceRoot":""}