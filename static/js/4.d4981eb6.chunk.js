(this.webpackJsonpbooklife=this.webpackJsonpbooklife||[]).push([[4],{141:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(1),l=a(7),s=a(32),o=a(28),m=a(12),u=a(4),i=function(){var e=Object(c.c)((function(e){return e.book.books})),t=Object(c.c)((function(e){return e.auth.userId}));return[e.filter((function(e){return!!e.status&&Object.keys(e.status).some((function(e){return e===t}))})),t]},b=a(35),d=a(50),g=a(17),f=a.n(g),p=a(36),x=a(30),y=a(18),E=function(e){var t=e.bookId,a=Object(c.c)((function(e){return e.auth.userId})),r=Object(c.c)((function(e){return e.auth.token})),l=Object(c.b)(),s="/books/".concat(t,"/status/").concat(a,".json?auth=").concat(r),o=function(){var e=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete(s);case 3:l(Object(x.f)(t,a)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("svg",{onClick:o,className:"w-8 h-8 text-gray-600 hover:text-gray-700 hover:bg-blue-200 hover:bg-opacity-25 cursor-pointer rounded-full p-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))},h=function(e){var t=Object(c.c)((function(e){return e.author.authors})),a=i(),r=Object(m.a)(a,1)[0],l=function(e){var a=t.find((function(t){return t.name===e.author}));return a?a.id:null};return n.a.createElement("div",{className:"container mx-auto"},n.a.createElement("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},n.a.createElement("div",{className:"inline-block min-w-full shadow rounded-lg overflow-y-auto"},n.a.createElement("table",{className:"min-w-full leading-normal table-fixed"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"px-5 py-3 border-b-2 w-16 border-gray-200 bg-gray-100 text-right text-xs font-semibold font-IRANSans text-gray-600 uppercase tracking-wider"},"\u062a\u0635\u0648\u06cc\u0631"),n.a.createElement("th",{className:"pl-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-right text-xs font-semibold font-IRANSans text-gray-600 uppercase tracking-wider"},"\u0639\u0646\u0648\u0627\u0646"),n.a.createElement("th",{className:"pl-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-right text-xs font-semibold font-IRANSans text-gray-600 uppercase tracking-wider"},"\u0646\u0648\u06cc\u0633\u0646\u062f\u0647"),n.a.createElement("th",{className:"pl-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-right text-xs font-semibold font-IRANSans text-gray-600 uppercase tracking-wider"},"\u0627\u0645\u062a\u06cc\u0627\u0632"),n.a.createElement("th",{className:"pl-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-right text-xs font-semibold font-IRANSans text-gray-600 uppercase tracking-wider"},"\u0648\u0636\u0639\u06cc\u062a"),n.a.createElement("th",{className:"pl-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-right text-xs font-semibold font-IRANSans text-gray-600 uppercase tracking-wider"},"\u062d\u0630\u0641"))),n.a.createElement("tbody",null,r.map((function(e){return n.a.createElement("tr",{key:e.id,className:"odd:bg-white even:bg-gray-100 hover:bg-gray-100"},n.a.createElement("td",{className:"px-5 py-5 border-b w-16 border-gray-200 text-sm"},n.a.createElement("div",{className:"flex items-center"},n.a.createElement("div",{className:"flex-shrink-0 w-10 h-10"},n.a.createElement("img",{className:"w-full h-full rounded-full",src:e.imageUrl,alt:""})))),n.a.createElement("td",{className:"pl-5 py-5 border-b border-gray-200  text-sm"},n.a.createElement(u.b,{to:"/book/".concat(e.id),className:"text-gray-900 border-b border-transparent whitespace-no-wrap hover:border-gray-900"},e.title)),n.a.createElement("td",{className:"pl-5 py-5 border-b border-gray-200  text-sm"},n.a.createElement(u.b,{to:"/author/".concat(l(e)),className:"text-gray-900 border-b border-transparent whitespace-no-wrap hover:border-gray-900"},e.author)),n.a.createElement("td",{className:"pl-5 py-5 border-b border-gray-200  text-sm"},n.a.createElement(d.a,{bookId:e.id})),n.a.createElement("td",{className:"pl-5 py-5 border-b border-gray-200 text-sm"},n.a.createElement(b.a,{bookId:e.id})),n.a.createElement("td",{className:"pl-5 py-5 border-b border-gray-200  text-sm"},n.a.createElement(E,{bookId:e.id})))})))))))},N=a(14),v=function(e){var t=i(),a=Object(m.a)(t,2),r=a[0],c=a[1],l=r.length,s=0,o=0,u=0;return r.forEach((function(e){var t=Object.keys(e.status).find((function(e){return e===c}));"\u062f\u0631 \u062d\u0627\u0644 \u062e\u0648\u0627\u0646\u062f\u0646"===e.status[t]?s++:"\u0645\u06cc\u200c\u062e\u0648\u0627\u0647\u0645 \u0628\u062e\u0648\u0627\u0646\u0645"===e.status[t]?u++:"\u062e\u0648\u0627\u0646\u062f\u0645"===e.status[t]&&o++})),n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{className:"font-IRANSansMedium text-gray-800 text-lg"},"\u0642\u0641\u0633\u0647 \u06a9\u062a\u0627\u0628"),n.a.createElement("div",{className:"flex md:flex-col"},n.a.createElement("div",{className:"ml-3 md:ml-0"},n.a.createElement("h2",{className:"text-gray-700"},"\u0647\u0645\u0647"," ",n.a.createElement("span",{className:"font-IRANSansFaNum text-gray-700"},"(",l,")")),n.a.createElement("h2",{className:"text-gray-700"},"\u062e\u0648\u0627\u0646\u062f\u0647"," ",n.a.createElement("span",{className:"font-IRANSansFaNum text-gray-700"},"(",o,")"))),n.a.createElement("div",null,n.a.createElement("h2",{className:"text-gray-700"},"\u062f\u0631 \u062d\u0627\u0644 \u062e\u0648\u0627\u0646\u062f\u0646"," ",n.a.createElement("span",{className:"font-IRANSansFaNum text-gray-700"},"(",s,")")),n.a.createElement("h2",{className:"text-gray-700"},"\u062f\u0631 \u0644\u06cc\u0633\u062a \u062e\u0648\u0627\u0646\u062f\u0646"," ",n.a.createElement("span",{className:"font-IRANSansFaNum text-gray-700"},"(",u,")")))))};t.default=function(e){var t=!!Object(c.c)((function(e){return e.auth.token})),a=Object(c.b)(),m=Object(l.g)();return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(r.useEffect)((function(){t||(localStorage.getItem("token")?a(Object(N.g)()):m.replace("/"))}),[m,a,t]),n.a.createElement("div",{className:"mt-3"},n.a.createElement(s.a,null,n.a.createElement("title",null,"\u06a9\u062a\u0627\u0628\u200c\u0647\u0627\u06cc \u0645\u0646")),n.a.createElement(o.a,{title:"\u06a9\u062a\u0627\u0628\u200c\u0647\u0627\u06cc \u0645\u0646"}),n.a.createElement("div",{className:"md:flex"},n.a.createElement("div",{className:"md:w-2/12 mt-5"},n.a.createElement(v,null)),n.a.createElement("div",{className:"md:w-10/12 mt-2"},n.a.createElement(h,null))))}}}]);
//# sourceMappingURL=4.d4981eb6.chunk.js.map